{"ast":null,"code":"var _jsxFileName = \"/workspaces/cardology/src/components/WeeklyReadingPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Box, Button, Text, VStack, CloseButton } from '@chakra-ui/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WeeklyReadingPanel = ({\n  isOpen,\n  onClose,\n  weeklyCards,\n  cardData2\n}) => {\n  _s();\n  const [reading, setReading] = useState('');\n  const mapCardToFullName = card => {\n    const ranks = {\n      'A': 'Ace',\n      'K': 'King',\n      'Q': 'Queen',\n      'J': 'Jack',\n      '10': 'Ten',\n      '9': 'Nine',\n      '8': 'Eight',\n      '7': 'Seven',\n      '6': 'Six',\n      '5': 'Five',\n      '4': 'Four',\n      '3': 'Three',\n      '2': 'Two'\n    };\n    const suits = {\n      '♠': 'Spades',\n      '♥': 'Hearts',\n      '♦': 'Diamonds',\n      '♣': 'Clubs'\n    };\n    const rank = card.slice(0, -1);\n    const suit = card.slice(-1);\n    return `${ranks[rank]} of ${suits[suit]}`;\n  };\n  const generateReading = async () => {\n    const cardInfo = weeklyCards.map(card => {\n      const fullCardName = mapCardToFullName(card);\n      const cardDetails = cardData2.find(c => c.Card === fullCardName);\n      return cardDetails ? `${fullCardName}: ${cardDetails.Description}` : fullCardName;\n    }).join('\\n\\n');\n    const prompt = `Based on the following cards for a weekly reading, provide an insightful and detailed interpretation for the week ahead:\\n\\n${cardInfo}`;\n    try {\n      const response = await fetch('/api/generate-reading', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          prompt\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to generate reading');\n      }\n      const data = await response.json();\n      setReading(data.reading);\n    } catch (error) {\n      console.error('Error generating reading:', error);\n      setReading('Failed to generate reading. Please try again.');\n    }\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    position: \"fixed\",\n    right: 0,\n    top: 0,\n    width: \"400px\",\n    height: \"100%\",\n    bg: \"white\",\n    boxShadow: \"-2px 0 10px rgba(0, 0, 0, 0.1)\",\n    p: 4,\n    overflowY: \"auto\",\n    children: [/*#__PURE__*/_jsxDEV(CloseButton, {\n      position: \"absolute\",\n      right: 2,\n      top: 2,\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(VStack, {\n      spacing: 4,\n      align: \"stretch\",\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        fontSize: \"xl\",\n        fontWeight: \"bold\",\n        children: \"Weekly Reading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"blue\",\n        onClick: generateReading,\n        children: \"Generate Reading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), reading && /*#__PURE__*/_jsxDEV(Box, {\n        mt: 4,\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          whiteSpace: \"pre-wrap\",\n          children: reading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 7\n  }, this);\n};\n_s(WeeklyReadingPanel, \"N2GYzcGTTcPmsY2SufbotsuS0mo=\");\n_c = WeeklyReadingPanel;\nexport default WeeklyReadingPanel;\nvar _c;\n$RefreshReg$(_c, \"WeeklyReadingPanel\");","map":{"version":3,"names":["React","useState","Box","Button","Text","VStack","CloseButton","jsxDEV","_jsxDEV","WeeklyReadingPanel","isOpen","onClose","weeklyCards","cardData2","_s","reading","setReading","mapCardToFullName","card","ranks","suits","rank","slice","suit","generateReading","cardInfo","map","fullCardName","cardDetails","find","c","Card","Description","join","prompt","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","error","console","position","right","top","width","height","bg","boxShadow","p","overflowY","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","spacing","align","fontSize","fontWeight","colorScheme","mt","whiteSpace","_c","$RefreshReg$"],"sources":["/workspaces/cardology/src/components/WeeklyReadingPanel.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Box, Button, Text, VStack, CloseButton } from '@chakra-ui/react';\n\nconst WeeklyReadingPanel = ({ isOpen, onClose, weeklyCards, cardData2 }) => {\n    const [reading, setReading] = useState('');\n  \n    const mapCardToFullName = (card) => {\n      const ranks = {\n        'A': 'Ace',\n        'K': 'King',\n        'Q': 'Queen',\n        'J': 'Jack',\n        '10': 'Ten',\n        '9': 'Nine',\n        '8': 'Eight',\n        '7': 'Seven',\n        '6': 'Six',\n        '5': 'Five',\n        '4': 'Four',\n        '3': 'Three',\n        '2': 'Two'\n      };\n      const suits = {\n        '♠': 'Spades',\n        '♥': 'Hearts',\n        '♦': 'Diamonds',\n        '♣': 'Clubs'\n      };\n      \n      const rank = card.slice(0, -1);\n      const suit = card.slice(-1);\n      \n      return `${ranks[rank]} of ${suits[suit]}`;\n    };\n  \n    const generateReading = async () => {\n      const cardInfo = weeklyCards.map(card => {\n        const fullCardName = mapCardToFullName(card);\n        const cardDetails = cardData2.find(c => c.Card === fullCardName);\n        return cardDetails ? `${fullCardName}: ${cardDetails.Description}` : fullCardName;\n      }).join('\\n\\n');\n  \n      const prompt = `Based on the following cards for a weekly reading, provide an insightful and detailed interpretation for the week ahead:\\n\\n${cardInfo}`;\n  \n      try {\n        const response = await fetch('/api/generate-reading', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ prompt }),\n        });\n  \n        if (!response.ok) {\n          throw new Error('Failed to generate reading');\n        }\n  \n        const data = await response.json();\n        setReading(data.reading);\n      } catch (error) {\n        console.error('Error generating reading:', error);\n        setReading('Failed to generate reading. Please try again.');\n      }\n    };\n  \n    if (!isOpen) return null;\n  \n    return (\n      <Box\n        position=\"fixed\"\n        right={0}\n        top={0}\n        width=\"400px\"\n        height=\"100%\"\n        bg=\"white\"\n        boxShadow=\"-2px 0 10px rgba(0, 0, 0, 0.1)\"\n        p={4}\n        overflowY=\"auto\"\n      >\n        <CloseButton position=\"absolute\" right={2} top={2} onClick={onClose} />\n        <VStack spacing={4} align=\"stretch\">\n          <Text fontSize=\"xl\" fontWeight=\"bold\">Weekly Reading</Text>\n          <Button colorScheme=\"blue\" onClick={generateReading}>Generate Reading</Button>\n          {reading && (\n            <Box mt={4}>\n              <Text whiteSpace=\"pre-wrap\">{reading}</Text>\n            </Box>\n          )}\n        </VStack>\n      </Box>\n    );\n  };\n  \n  export default WeeklyReadingPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}